_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[16],{"7dqq":function(e,t,r){"use strict";var n=r("nKUr"),o=r("wx14"),a=r("Ff2n"),i=r("q1tI"),c=(r("17x9"),r("iuhU")),s=r("H2TA"),p=r("NqtD"),l=44,u=i.forwardRef((function(e,t){var r=e.classes,n=e.className,s=e.color,u=void 0===s?"primary":s,f=e.disableShrink,d=void 0!==f&&f,m=e.size,h=void 0===m?40:m,b=e.style,y=e.thickness,j=void 0===y?3.6:y,O=e.value,g=void 0===O?0:O,v=e.variant,x=void 0===v?"indeterminate":v,w=Object(a.a)(e,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),k={},P={},D={};if("determinate"===x||"static"===x){var N=2*Math.PI*((l-j)/2);k.strokeDasharray=N.toFixed(3),D["aria-valuenow"]=Math.round(g),k.strokeDashoffset="".concat(((100-g)/100*N).toFixed(3),"px"),P.transform="rotate(-90deg)"}return i.createElement("div",Object(o.a)({className:Object(c.a)(r.root,n,"inherit"!==u&&r["color".concat(Object(p.a)(u))],{determinate:r.determinate,indeterminate:r.indeterminate,static:r.static}[x]),style:Object(o.a)({width:h,height:h},P,b),ref:t,role:"progressbar"},D,w),i.createElement("svg",{className:r.svg,viewBox:"".concat(22," ").concat(22," ").concat(l," ").concat(l)},i.createElement("circle",{className:Object(c.a)(r.circle,d&&r.circleDisableShrink,{determinate:r.circleDeterminate,indeterminate:r.circleIndeterminate,static:r.circleStatic}[x]),style:k,cx:l,cy:l,r:(l-j)/2,fill:"none",strokeWidth:j})))})),f=Object(s.a)((function(e){return{root:{display:"inline-block"},static:{transition:e.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},determinate:{transition:e.transitions.create("transform")},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:e.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},circleDeterminate:{transition:e.transitions.create("stroke-dashoffset")},"@keyframes circular-rotate":{"0%":{transformOrigin:"50% 50%"},"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}}),{name:"MuiCircularProgress",flip:!1})(u),d=r("rePB"),m=r("Z3vd"),h=r("R/WZ"),b=r("6yBS");function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){Object(d.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O=Object(h.a)((function(e){return{root:{display:"flex",alignItems:"center"},wrapper:{position:"relative"},buttonProgress:{color:b.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}}));t.a=function(e){var t=e.loading,r=void 0!==t&&t,o=e.children,i=Object(a.a)(e,["loading","children"]),s=O();return Object(n.jsx)("div",{className:Object(c.a)(s.root,"loaderButtonRoot"),children:Object(n.jsxs)("div",{className:Object(c.a)(s.wrapper,"loaderButtonWrapper"),children:[Object(n.jsx)(m.a,j(j({className:"margin1"},i),{},{children:o})),r&&Object(n.jsx)(f,{size:24,className:s.buttonProgress})]})})}},D84F:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/is-mounted",function(){return r("DnPx")}])},DnPx:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return v}));var n=r("Z3vd"),o=r("tRbT"),a=r("nKUr"),i=r("ofer"),c=r("q1tI"),s=r("rePB"),p=r("Ji2X"),l=r("hlFM"),u=r("o0o1"),f=r.n(u),d=r("HaE+"),m=r("7dqq"),h=r("90U+"),b=r("TlT+");function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O=function(e){var t,r=e.isBad,n=Object(c.useState)({data:null,loading:b.a.NOT_STARTED}),o=n[0],u=n[1],y=function(){var e=Object(c.useRef)(!1);return Object(c.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),Object(c.useCallback)((function(){return e.current}),[])}(),O=Object(c.useState)({}),g=O[0],v=O[1];function x(){return(x=Object(d.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v((function(e){return j(j({},e),{},Object(s.a)({},n,!0))})),e.next=3,Object(h.c)(3e3);case 3:(r||y())&&(v((function(e){return j(j({},e),{},Object(s.a)({},n,!1))})),window.open(t,"_blank"));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){function e(){return(e=Object(d.a)(f.a.mark((function e(){var t,r,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u({data:null,loading:b.a.LOADING}),e.next=3,Object(h.a)({method:"get",url:"api/comics/characters/",params:{field_list:"id,name,image,first_appeared_in_issue,site_detail_url",limit:5,filter:"name:Alfred"}});case 3:n=e.sent,u({data:null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.results,loading:b.a.COMPLETE});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),console.log({charactersState:o}),Object(a.jsxs)(p.a,{maxWidth:"md",children:[Object(a.jsx)(i.a,{variant:"h4",component:"h1",color:o.loading?"secondary":"textPrimary",children:!!o.loading&&"Loading..."}),!o.loading&&!(null===(t=o.data)||void 0===t||!t.length)&&o.data.map((function(e){var t=e.name||"Character Not Found";return Object(a.jsxs)(l.a,{display:"flex",justifyContent:"space-between",mt:1,mb:1,children:[Object(a.jsxs)(i.a,{variant:"h4",component:"h1",children:["Character Name: ",t]}),Object(a.jsx)(m.a,{loading:g[e.id],onClick:function(){return function(e,t){return x.apply(this,arguments)}(e.site_detail_url,e.id)},variant:"outlined",children:"Open Comic Vine"})]},e.id)}))]})},g=r("9BAl");function v(){var e=Object(c.useState)(!1),t=e[0],r=e[1];return Object(a.jsxs)(o.a,{container:!0,spacing:3,direction:"column",children:[Object(a.jsxs)(o.a,{item:!0,children:[Object(a.jsx)(i.a,{variant:"h2",children:"Checking if a component is mounted"}),Object(a.jsx)(i.a,{variant:"body1",children:"If a component attempts to update its state after its unmounted (e.g. due to an async request that resolves after the use has closed the containing modal or navigated away from the page), you will see a memory leak warning in the console. This can also can unexpected UX as async request completed in the background."})]}),Object(a.jsx)(o.a,{item:!0,children:Object(a.jsx)(g.a,{nextProps:{href:"https://daviseford.com/blog/2019/07/11/react-hooks-check-if-mounted.html"},children:"Check If A Component Is Mounted"})}),Object(a.jsx)(o.a,{item:!0,children:Object(a.jsx)(n.a,{className:"margin1",onClick:function(){r((function(e){return!e}))},variant:"outlined",children:t?"Switch to working example":"Switch to failing example"})}),Object(a.jsxs)(o.a,{item:!0,children:[Object(a.jsx)(i.a,{variant:"body1",paragraph:!0,children:'On this page, the "Open Comic Vine" link triggers an link to open 3 seconds after clicking. In the real world, imagine you are doing something like a page navigation after an async form submission.'}),Object(a.jsx)(i.a,{variant:"body1",paragraph:!0,children:'In the failing example, click an Open Comic Vine link and immediately click "JS Lessons" at the top to navigate off this page within the site. Even though this component has been unmounted, the link still opens. link, so it (correctly) does not open. opens.'}),Object(a.jsx)(i.a,{variant:"body1",paragraph:!0,children:"In the working example, do the same thing. In the working example we check to make sure the user is still on the page before we open the link, so it (correctly) does not open. opens."})]}),Object(a.jsx)(o.a,{item:!0,children:Object(a.jsx)(O,{isBad:t})})]})}},"R/WZ":function(e,t,r){"use strict";var n=r("wx14"),o=r("RD7I"),a=r("cNwE");t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(o.a)(e,Object(n.a)({defaultTheme:a.a},t))}},hlFM:function(e,t,r){"use strict";var n=r("KQm4"),o=r("wx14"),a=(r("17x9"),r("bv9d"));var i=function(e){var t=function(t){var r=e(t);return t.css?Object(o.a)({},Object(a.a)(r,e(Object(o.a)({theme:t.theme},t.css))),function(e,t){var r={};return Object.keys(e).forEach((function(n){-1===t.indexOf(n)&&(r[n]=e[n])})),r}(t.css,[e.filterProps])):r};return t.propTypes={},t.filterProps=["css"].concat(Object(n.a)(e.filterProps)),t};var c=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=function(e){return t.reduce((function(t,r){var n=r(e);return n?Object(a.a)(t,n):t}),{})};return n.propTypes={},n.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),n},s=r("rePB"),p=r("LybE");function l(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}var u=function(e){var t=e.prop,r=e.cssProperty,n=void 0===r?e.prop:r,o=e.themeKey,a=e.transform,i=function(e){if(null==e[t])return null;var r=e[t],i=l(e.theme,o)||{};return Object(p.a)(e,r,(function(e){var t;return"function"===typeof i?t=i(e):Array.isArray(i)?t=i[e]||e:(t=l(i,e)||e,a&&(t=a(t))),!1===n?t:Object(s.a)({},n,t)}))};return i.propTypes={},i.filterProps=[t],i};function f(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var d=c(u({prop:"border",themeKey:"borders",transform:f}),u({prop:"borderTop",themeKey:"borders",transform:f}),u({prop:"borderRight",themeKey:"borders",transform:f}),u({prop:"borderBottom",themeKey:"borders",transform:f}),u({prop:"borderLeft",themeKey:"borders",transform:f}),u({prop:"borderColor",themeKey:"palette"}),u({prop:"borderRadius",themeKey:"shape"})),m=c(u({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),u({prop:"display"}),u({prop:"overflow"}),u({prop:"textOverflow"}),u({prop:"visibility"}),u({prop:"whiteSpace"})),h=c(u({prop:"flexBasis"}),u({prop:"flexDirection"}),u({prop:"flexWrap"}),u({prop:"justifyContent"}),u({prop:"alignItems"}),u({prop:"alignContent"}),u({prop:"order"}),u({prop:"flex"}),u({prop:"flexGrow"}),u({prop:"flexShrink"}),u({prop:"alignSelf"}),u({prop:"justifyItems"}),u({prop:"justifySelf"})),b=c(u({prop:"gridGap"}),u({prop:"gridColumnGap"}),u({prop:"gridRowGap"}),u({prop:"gridColumn"}),u({prop:"gridRow"}),u({prop:"gridAutoFlow"}),u({prop:"gridAutoColumns"}),u({prop:"gridAutoRows"}),u({prop:"gridTemplateColumns"}),u({prop:"gridTemplateRows"}),u({prop:"gridTemplateAreas"}),u({prop:"gridArea"})),y=c(u({prop:"position"}),u({prop:"zIndex",themeKey:"zIndex"}),u({prop:"top"}),u({prop:"right"}),u({prop:"bottom"}),u({prop:"left"})),j=c(u({prop:"color",themeKey:"palette"}),u({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"})),O=u({prop:"boxShadow",themeKey:"shadows"});function g(e){return e<=1?"".concat(100*e,"%"):e}var v=u({prop:"width",transform:g}),x=u({prop:"maxWidth",transform:g}),w=u({prop:"minWidth",transform:g}),k=u({prop:"height",transform:g}),P=u({prop:"maxHeight",transform:g}),D=u({prop:"minHeight",transform:g}),N=(u({prop:"size",cssProperty:"width",transform:g}),u({prop:"size",cssProperty:"height",transform:g}),c(v,x,w,k,P,D,u({prop:"boxSizing"}))),S=r("+Hmc"),E=c(u({prop:"fontFamily",themeKey:"typography"}),u({prop:"fontSize",themeKey:"typography"}),u({prop:"fontStyle",themeKey:"typography"}),u({prop:"fontWeight",themeKey:"typography"}),u({prop:"letterSpacing"}),u({prop:"lineHeight"}),u({prop:"textAlign"})),C=r("Ff2n"),T=r("q1tI"),_=r.n(T),I=r("iuhU"),K=r("2mql"),R=r.n(K),A=r("RD7I");function B(e,t){var r={};return Object.keys(e).forEach((function(n){-1===t.indexOf(n)&&(r[n]=e[n])})),r}var q=r("cNwE"),F=function(e){var t=function(e){return function(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.name,i=Object(C.a)(n,["name"]),c=a,s="function"===typeof t?function(e){return{root:function(r){return t(Object(o.a)({theme:e},r))}}}:{root:t},p=Object(A.a)(s,Object(o.a)({Component:e,name:a||e.displayName,classNamePrefix:c},i));t.filterProps&&(r=t.filterProps,delete t.filterProps),t.propTypes&&(t.propTypes,delete t.propTypes);var l=_.a.forwardRef((function(t,n){var a=t.children,i=t.className,c=t.clone,s=t.component,l=Object(C.a)(t,["children","className","clone","component"]),u=p(t),f=Object(I.a)(u.root,i),d=l;if(r&&(d=B(d,r)),c)return _.a.cloneElement(a,Object(o.a)({className:Object(I.a)(a.props.className,f)},d));if("function"===typeof a)return a(Object(o.a)({className:f},d));var m=s||e;return _.a.createElement(m,Object(o.a)({ref:n,className:f},d),a)}));return R()(l,e),l}}(e);return function(e,r){return t(e,Object(o.a)({defaultTheme:q.a},r))}},z=i(c(d,m,h,b,y,j,O,N,S.b,E)),W=F("div")(z,{name:"MuiBox"});t.a=W}},[["D84F",0,2,1,3,4,5,10]]]);